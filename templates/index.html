<!DOCTYPE html>
<html>
<head>
    <title>Smoking Relapse Predictor</title>
</head>
<body>

<h2>Smoking Relapse Prediction</h2>

<form method="post">

    Age:
    <select name="Age" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Late Working Age','Mid Working Age','Pre-Senior','Young Adults','Under 18','Early Working Age'] %}
        <option {% if form_data.get('Age') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Cigarettes per Day:
    <select name="NumberOfSticksPerDay" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Light Smoker','Medium Smoker','Heavy Smoker'] %}
        <option {% if form_data.get('NumberOfSticksPerDay') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Gender:
    <select name="Gender" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['M','F'] %}
        <option {% if form_data.get('Gender') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Civil Status:
    <select name="CivilStatus" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Single','Married'] %}
        <option {% if form_data.get('CivilStatus') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Has Info About Cessation:
    <select name="HasInfoAboutCessation" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Yes','No'] %}
        <option {% if form_data.get('HasInfoAboutCessation') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Employment Status:
    <select name="EmploymentStatus" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Employed','Officeing','NotOfficeing','Retired'] %}
        <option {% if form_data.get('EmploymentStatus') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Smoker Type:
    <select name="Type" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['RegularSmoker','SocialSmoker'] %}
        <option {% if form_data.get('Type') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Age Started:
    <select name="AgeStarted" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Childhood','Adolescence','Young Adult'] %}
        <option {% if form_data.get('AgeStarted') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Influence:
    <select name="Influence" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Curiosity','FamilyInfluence','PeerPressure'] %}
        <option {% if form_data.get('Influence') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Urge:
    <select name="Urge" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Stressed','Bored','Sad','Angry','Happy'] %}
        <option {% if form_data.get('Urge') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    Main Access:
    <select name="MainAccess" required>
        <option value="" disabled selected hidden>-- Select --</option>
        {% for v in ['Home','Office','PublicPlace','Others','Bars'] %}
        <option {% if form_data.get('MainAccess') == v %}selected{% endif %}>{{ v }}</option>
        {% endfor %}
    </select><br><br>

    <button type="submit">Predict</button>
    <button type="button" onclick="window.location.href='/'">Clear Fields</button>

</form>

{% if result %}
<hr>
<h3>Prediction: {{ result }}</h3>
<p>Probability YES: {{ (yes_prob * 100) | round(2) }}%</p>
<p>Probability NO: {{ (no_prob * 100) | round(2) }}%</p>
{% endif %}

</body>
</html>
